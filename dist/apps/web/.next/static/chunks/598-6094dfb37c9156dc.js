"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[598],{47316:function(e,r,t){t.d(r,{Z:function(){return b}});var n=t(27573),o=t(82961),a=t(55437),d=t(47935),i=t(59752),s=t(72816),l=t(68444);let c=l.z.object({startLine:l.z.number().int(),endLine:l.z.number().int()}),u=e=>{let{onSubmit:r}=e,{control:t,handleSubmit:l}=(0,s.cI)({resolver:(0,d.F)(c)});return(0,n.jsxs)(a.J2,{children:[(0,n.jsx)(a.xo,{children:(0,n.jsx)(i.cW,{width:33,height:33,className:"bg-muted border-bordered h-full w-[35px] cursor-pointer rounded border-[1px] p-1.5"})}),(0,n.jsxs)(a.yk,{className:"p-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h4",{className:"font-medium leading-none",children:"Trim text"}),(0,n.jsx)("p",{className:"text-muted-foreground pb-2 text-sm",children:"Trim text from start to end line"})]}),(0,n.jsx)(o.gN,{variant:"muted",control:t,type:"number",name:"startLine",placeholder:"Start line"}),(0,n.jsx)(o.gN,{variant:"muted",control:t,className:"my-2",name:"endLine",type:"number",placeholder:"end line"}),(0,n.jsx)(o.zx,{variant:"primary",size:"sm",onClick:l(r),children:"Trim content"})]})]})},m=["One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen","Twenty","Twenty-one","Twenty-two","Twenty-three","Twenty-four","Twenty-five","Twenty-six","Twenty-seven","Twenty-eight","Twenty-nine","Thirty","Thirty-one","Thirty-two","Thirty-three","Thirty-four","Thirty-five","Thirty-six","Thirty-seven","Thirty-eight","Thirty-nine","Forty","Forty-one","Forty-two","Forty-three","Forty-four","Forty-five","Forty-six","Forty-seven","Forty-eight","Forty-nine","Fifty","Fifty-one","Fifty-two","Fifty-three","Fifty-four","Fifty-five","Fifty-six","Fifty-seven","Fifty-eight","Fifty-nine","Sixty","Sixty-one","Sixty-two","Sixty-three","Sixty-four","Sixty-five","Sixty-six","Sixty-seven","Sixty-eight","Sixty-nine","Seventy","Seventy-one","Seventy-two","Seventy-three","Seventy-four","Seventy-five","Seventy-six","Seventy-seven","Seventy-eight","Seventy-nine","Eighty","Eighty-one","Eighty-two","Eighty-three","Eighty-four","Eighty-five","Eighty-six","Eighty-seven","Eighty-eight","Eighty-nine","Ninety","Ninety-one","Ninety-two","Ninety-three","Ninety-four","Ninety-five","Ninety-six","Ninety-seven","Ninety-eight","Ninety-nine","One hundred","One hundred and one","One hundred and two","One hundred and three","One hundred and four","One hundred and five","One hundred and six"];var h=t(28603),p=t(96604),f=t(56646);let x=e=>{let{ebooks:r,setEBooks:t}=e,{mutateAsync:n,isLoading:o}=(0,f.D)({mutationKey:["unfold"],mutationFn:e=>h.Z.parser.unfold(e),onSuccess:()=>(0,p.Qm)("File uploaded"),onError:()=>(0,p.Jc)("Error while uploading book")}),a=e=>{let{title:n,chapters:o}=e,a=(null==r?void 0:r.length)||0;t([...r||[],{id:a+1,title:n||"",chapters:o||[]}]),(0,p.Qm)("Book uploaded")};return{books:{upload:e=>{for(let r of e)n(new File([r],r.name)).then(e=>{let{data:t}=e;a({title:r.name,chapters:t})})},state:r||[],unfoldLoading:o,trimmingEBookContent:e=>{let{bookId:n,startLine:o,endLine:a}=e;if(!r)return(0,p.Jc)("Error trimming book");t(r.map(e=>e.id===n?{...e,chapters:e.chapters.map(e=>{let{id:r,name:t,text:n}=e;return{id:r,name:t,text:n.split("\n").filter((e,r)=>r<o-1||r>a-1).join("\n")}})}:e)),(0,p.Qm)("Book trimmed")},generateChapterNames:e=>{let{bookId:n}=e;if(!r)return(0,p.Jc)("Error generating chapter names");t(r.map(e=>e.id===n?{...e,chapters:e.chapters.map((e,r)=>({...e,name:"Chapter ".concat(m[r])}))}:e))},addNewCharacterAfterContent:e=>{let{bookId:n,chapterId:o}=e;if(!r)return(0,p.Jc)("Error adding new chapter");t(r.map(e=>{if(e.id===n){let r=e.chapters.findIndex(e=>e.id===o);return{...e,chapters:[...e.chapters.slice(0,r+1),{id:Math.round(1e6*Math.random()),name:"",text:""},...e.chapters.slice(r+1)]}}return e}))},delete:e=>{let{bookId:n}=e;if(!r)return(0,p.Jc)("Error deleting book");t(null==r?void 0:r.filter(e=>e.id!==n)),(0,p.Qm)("Book deleted")},updateToc:e=>{let{chapterId:n,bookId:o,value:a}=e;if(!r)return(0,p.Jc)("Error updating chapter");t(r.map(e=>e.id===o?{...e,chapters:e.chapters.map(e=>e.id===n?{...e,...a}:e)}:e))},updateBookTitle:e=>{let{value:n,bookId:o}=e;if(!r)return(0,p.Jc)("Error updating book title");t(r.map(e=>e.id===o?{...e,title:n}:e))},mergeContentWithTopCharacter:e=>{let{bookId:n,topChapterId:o,insertedContent:a}=e;return r?t(r.map(e=>{if(e.id===n){let r=e.chapters.find(e=>e.id===o),t=e.chapters.findIndex(e=>e.id===o);return r?{...e,chapters:[...e.chapters.slice(0,t),{id:r.id,name:r.name,text:"".concat(r.text,"\n").concat(a)},...e.chapters.slice(t+1)].filter(e=>e.text!==a)}:((0,p.Jc)("Error merging content"),e)}return e})):(0,p.Jc)("Error merging content")},removeToc:(e,n)=>{if(!r)return(0,p.Jc)("Error removing chapter");t(r.map(r=>r.id===e?{...r,chapters:r.chapters.filter(e=>e.id!==n)}:r)),(0,p.Qm)("Chapter removed")},moveChaptersToNewBook:e=>{let{bookId:n,chapterId:o}=e;if(!r)return(0,p.Jc)("Error moving chapters");let a=r.find(e=>e.id===n);if(!a)return r;let d=a.chapters.findIndex(e=>e.id===o);if(d<=1)return(0,p.Jc)("Error moving chapters");let i=a.chapters.slice(d),s=a.chapters.filter(e=>!i.some(r=>r.id===e.id)),l={id:r.length+1,title:"".concat(r.length+1," book"),chapters:i};return t([...r.map(e=>e.id===n?{...e,chapters:s}:e),l])}}}};var g=(0,t(7653).memo)(e=>{let{message:r}=e;return"string"==typeof r?(0,n.jsx)("p",{className:"text-danger mt-0.5 text-xs italic",children:r}):(null==r?void 0:r.message)?(0,n.jsx)("p",{className:"text-danger mt-0.5 text-xs italic",children:r.message}):null}),b=e=>{let{control:r,name:t}=e;return(0,n.jsx)(s.Qr,{control:r,name:t,render:e=>{let{field:{value:r=[],onChange:t},fieldState:{error:a}}=e,{books:d}=x({ebooks:r,setEBooks:t});return console.log("errors",a),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"md:w-max md:overflow-y-scroll ",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h1",{className:"mt-2  text-xl",children:"Book file"}),(0,n.jsx)(o.rE,{multiple:!0,size:"sm",accept:".epub",disabled:d.unfoldLoading,onDropFile:e=>{d.upload(e)},onFileDelete:(e,r)=>{var t;d.delete({bookId:Number(null===(t=d.state[r])||void 0===t?void 0:t.id)})}})]}),(0,n.jsx)("div",{className:"md:flex md:w-fit",children:d.state.map((e,r)=>{var t;let s=null==a?void 0:a[r];return(0,n.jsxs)("div",{className:"bg-foreground border-bordered mb-4 w-full rounded border-[1px] p-2 pt-4 md:mr-1 md:w-[600px]",children:[(0,n.jsxs)("div",{className:"mb-2 flex h-9 items-center  justify-between gap-1",children:[(0,n.jsx)(o.II,{variant:"muted",className:"mr-2 h-full w-full flex-1",defaultValue:e.title,onBlur:r=>d.updateBookTitle({bookId:e.id,value:r.target.value})}),(0,n.jsx)(g,{message:null==s?void 0:null===(t=s.title)||void 0===t?void 0:t.message}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(u,{onSubmit:r=>{d.trimmingEBookContent({bookId:e.id,startLine:r.startLine,endLine:r.endLine})}}),(0,n.jsx)(i.nP,{width:33,height:33,className:"bg-muted border-bordered h-full w-[35px] cursor-pointer rounded border-[1px] p-1.5",onClick:()=>{d.generateChapterNames({bookId:e.id}),console.log("generate chapters names")}})]})]}),e.chapters.map((r,t)=>{var a,l,c;let u=null==s?void 0:null===(a=s.chapters)||void 0===a?void 0:a[t];return(0,n.jsxs)("div",{className:"bg-muted mb-2 rounded p-2",children:[(0,n.jsxs)("div",{className:"mb-2 flex w-full items-center justify-between gap-2",children:[(0,n.jsx)(o.II,{variant:"foreground",value:r.name,onChange:t=>{d.updateToc({bookId:e.id,chapterId:r.id,value:{name:t.target.value}})}}),(0,n.jsx)(g,{message:null==u?void 0:null===(l=u.name)||void 0===l?void 0:l.message}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(i.Kh,{width:34,height:34,className:"bg-foreground border-bordered cursor-pointer rounded border-[1px] p-1.5",onClick:()=>{var n,o;if(!(null===(n=e.chapters[t-1])||void 0===n?void 0:n.id))return(0,p.Jc)("Cannot move chapter up");d.mergeContentWithTopCharacter({bookId:e.id,insertedContent:r.text,topChapterId:Number(null===(o=e.chapters[t-1])||void 0===o?void 0:o.id)})}}),(0,n.jsx)(i._M,{width:34,height:34,className:"bg-foreground border-bordered cursor-pointer rounded border-[1px] p-1.5",onClick:()=>{d.addNewCharacterAfterContent({bookId:e.id,chapterId:r.id}),console.log("add new character")}}),(0,n.jsx)(i.k3,{width:34,height:34,className:"bg-foreground border-bordered cursor-pointer rounded border-[1px] p-1.5",onClick:()=>{console.log("combine"),d.moveChaptersToNewBook({bookId:e.id,chapterId:r.id})}}),(0,n.jsx)(i.x8,{width:34,height:34,className:"bg-foreground border-bordered cursor-pointer rounded border-[1px] p-1.5",onClick:()=>{d.removeToc(e.id,r.id),console.log("remove toc")}})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(o.Kx,{value:r.text,variant:"foreground",className:" min-h-[250px] w-full rounded px-4 py-2 font-mono text-sm duration-200 ease-linear",onChange:t=>{d.updateToc({chapterId:r.id,value:{text:t.target.value},bookId:e.id})}}),(0,n.jsx)(g,{message:null==u?void 0:null===(c=u.text)||void 0===c?void 0:c.message})]})]},r.id)})]},e.title)})})]})})})}})}},44853:function(e,r,t){t.d(r,{Z:function(){return w}});var n=t(27573),o=t(72133),a=t(7472),d=t(59752),i=t(7653);a.fC;let s=a.h_,l=(0,i.forwardRef)((e,r)=>{let{className:t,...d}=e;return(0,n.jsx)(a.aV,{ref:r,className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0  fixed inset-0 z-50",t),...d})});l.displayName=a.aV.displayName,(0,i.forwardRef)((e,r)=>{let{className:t,children:i,...c}=e;return(0,n.jsxs)(s,{children:[(0,n.jsx)(l,{}),(0,n.jsxs)(a.VY,{ref:r,className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 sm:rounded",t),...c,children:[i,(0,n.jsxs)(a.x8,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute right-4 top-4 rounded opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[(0,n.jsx)(d.x8,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}).displayName=a.VY.displayName,(0,i.forwardRef)((e,r)=>{let{className:t,...d}=e;return(0,n.jsx)(a.Dx,{ref:r,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",t),...d})}).displayName=a.Dx.displayName,(0,i.forwardRef)((e,r)=>{let{className:t,...d}=e;return(0,n.jsx)(a.dk,{ref:r,className:(0,o.cn)("text-muted-foreground text-sm",t),...d})}).displayName=a.dk.displayName;var c=t(31620);let u=(0,i.forwardRef)((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(c.mY,{ref:r,className:(0,o.cn)("bg-foreground text-gray flex h-full w-full flex-col overflow-hidden rounded",t),...a})});u.displayName=c.mY.displayName;let m=(0,i.forwardRef)((e,r)=>{let{className:t,...a}=e;return(0,n.jsxs)("div",{className:"border-bordered flex items-center border-b px-3",children:[(0,n.jsx)(d.ol,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,n.jsx)(c.mY.Input,{ref:r,className:(0,o.cn)("flex h-10 w-full rounded bg-transparent py-3 text-sm outline-none placeholder:text-white disabled:cursor-not-allowed disabled:opacity-50",t),...a})]})});m.displayName=c.mY.Input.displayName,(0,i.forwardRef)((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(c.mY.List,{ref:r,className:(0,o.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...a})}).displayName=c.mY.List.displayName;let h=(0,i.forwardRef)((e,r)=>(0,n.jsx)(c.mY.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));h.displayName=c.mY.Empty.displayName;let p=(0,i.forwardRef)((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(c.mY.Group,{ref:r,className:(0,o.cn)("text-gray overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-white",t),...a})});p.displayName=c.mY.Group.displayName,(0,i.forwardRef)((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(c.mY.Separator,{ref:r,className:(0,o.cn)("bg-bordered -mx-1 h-px",t),...a})}).displayName=c.mY.Separator.displayName;let f=(0,i.forwardRef)((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(c.mY.Item,{ref:r,className:(0,o.cn)("aria-selected:bg-muted aria-selected:text-gray relative flex cursor-default select-none items-center rounded px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a})});f.displayName=c.mY.Item.displayName;var x=t(55437),g=t(28603),b=t(63543),y=t(51530),v=t(72816),w=e=>{let{control:r,name:t,...a}=e,{data:i=[]}=(0,b.a)({queryKey:["genres"],queryFn:()=>g.Z.genre.catalog(),select:e=>e.data});return console.log("genres",i),(0,n.jsx)(v.Qr,{control:r,name:t,render:e=>{let{field:{value:r=[],onChange:t},fieldState:{error:s}}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsxs)(x.J2,{children:[(0,n.jsx)(x.xo,{className:"w-full",children:(0,n.jsx)("div",{className:(0,o.cn)("border-bordered bg-foreground  rounded border-[1px] px-2 py-1"),...a,children:(0,n.jsxs)("div",{className:"flex max-w-xl flex-nowrap gap-2 overflow-hidden",children:[r.length>0?r.map(e=>{var r;let{slug:t}=e;return(0,n.jsx)("span",{children:null===(r=i.find(e=>e.slug===t))||void 0===r?void 0:r.name},t)}).slice(0,2):"No genre selected"," ",r.length-2>0&&"(".concat(r.length-2,")")]})})}),(0,n.jsx)(x.yk,{className:" p-0",children:(0,n.jsxs)(u,{children:[(0,n.jsx)(m,{placeholder:"Search genre..."}),(0,n.jsx)(h,{children:"No genre found."}),(0,n.jsx)(p,{children:i.map(e=>(0,n.jsxs)(f,{value:e.name,onSelect:()=>t(r.find(r=>{let{slug:t}=r;return t===e.slug})?r.filter(r=>{let{slug:t}=r;return t!==e.slug}):[...r,e]),children:[(0,n.jsx)(d.Jr,{color:y.I.white,className:(0,o.cn)("mr-2 h-4 w-4",r.find(r=>{let{slug:t}=r;return t===e.slug})?"opacity-100":"opacity-0")}),e.name]},e.slug))})]})})]})}),!!s&&(0,n.jsx)("p",{className:"text-danger mt-0.5 text-xs italic",children:s.message})]})}})}},94945:function(e,r,t){t.d(r,{w:function(){return c}});var n=t(27573),o=t(28603),a=t(96604),d=t(56646);let i=()=>{let{mutateAsync:e,isLoading:r}=(0,d.D)({mutationKey:["upload-file"],mutationFn:e=>{let{folder:r,file:t}=e;return o.Z.storage.upload(r,t)},onError:()=>(0,a.Jc)({text1:"Upload file",text2:"An error occurred",type:"error"})});return{upload:e,uploadLoading:r}};var s=t(90939),l=t(72816);let c=e=>{let{control:r,name:t}=e,{upload:o,uploadLoading:a}=i();return(0,n.jsx)(l.Qr,{control:r,name:t,render:e=>{let{field:{value:r="",onChange:t},fieldState:{error:d}}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"file",className:"hidden",disabled:a,onChange:async e=>{var r;let{target:n}=e,a=null===(r=n.files)||void 0===r?void 0:r[0];a&&o({file:a,folder:"booksCovers"}).then(e=>{t(e.data.name)})}}),(0,n.jsx)("img",{width:220,className:"border-bordered  cursor-pointer rounded border-[1px]",height:300,src:(0,s.q)(r),alt:"Cover",onClick:()=>{let e=document.querySelector("input[type=file]");null==e||e.click()}})]})}),!!d&&(0,n.jsx)("p",{className:"text-danger mt-0.5 text-xs italic",children:d.message})]})}})}},82961:function(e,r,t){t.d(r,{zx:function(){return s},rE:function(){return m},gN:function(){return x},ld:function(){return y},II:function(){return f},Kx:function(){return b}});var n=t(27573),o=t(72133),a=t(51530),d=t(92766);let i={colors:{foreground:"bg-foreground border-[1px] border-bordered text-white hover:bg-muted",muted:"bg-muted border-[1px] border-bordered text-white hover:bg-foreground",primary:"bg-primary text-white border-[1px] border-transparent",danger:"bg-danger text-white border-[1px] border-transparent hover:bg-danger",background:"bg-background border-[1px] border-transparent text-white hover:bg-muted",success:"bg-success text-white border-[1px] border-transparent hover:bg-success",warning:"bg-warning text-white border-[1px] border-transparent hover:bg-warning"},size:{sm:"px-2.5 py-1 text-sm",md:"px-4 py-2 text-md",lg:"px-5 py-3 text-lg"},iconSize:{sm:16,md:18,lg:20}};var s=e=>{let{children:r,icon:t,fullWidth:s,size:l="md",variant:c="foreground",disabled:u=!1,isLoading:m=!1,className:h,...p}=e;return(0,n.jsxs)("button",{disabled:u||m,className:(0,o.cn)("flex cursor-pointer items-center justify-center gap-2 rounded px-3 py-1.5 font-bold duration-200 ease-linear",i.size[l],i.colors[c],(u||m)&&"cursor-not-allowed opacity-50",s?"w-full":"",h),...p,children:[r,m?(0,n.jsx)(d.Z,{width:i.iconSize[l],height:i.iconSize[l],color:a.C[c]}):null,!!t&&!m&&(0,n.jsx)(t,{color:a.C[c],width:i.iconSize[l],height:i.iconSize[l]})]})},l=t(59752),c=t(7653);let u={colors:{foreground:"border-foreground  hover:border-bordered",muted:"border-bordered  hover:border-foreground",background:"border-background  hover:border-bordered"},padding:{sm:"p-4",md:"p-8",lg:"p-12"},maxWidth:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}};var m=e=>{let{onDropFile:r=()=>null,defaultFiles:t=[],multiple:d=!1,disabled:i=!1,className:s="",style:m,accept:h="image/*",variant:p="foreground",onChange:f=()=>null,onFileDelete:x=()=>null,size:g="sm",...b}=e,[y,v]=(0,c.useState)(t),w=(0,c.useRef)(null),N=(0,c.useCallback)(e=>{d||(v(e),r(e)),v([...y,...e]),r(e)},[y,d,r]);return(0,c.useEffect)(()=>{w.current&&0===y.length&&(w.current.value="")},[y]),(0,n.jsxs)("div",{className:(0,o.cn)(u.maxWidth[g],s),style:m,children:[(0,n.jsx)("div",{className:(0,o.cn)("no-scrollbar flex gap-2 overflow-scroll",0===y.length&&"hidden"),children:y.map(e=>e&&(0,n.jsx)("div",{children:(0,n.jsxs)("div",{color:p,className:(0,o.cn)("mb-2 max-w-[200px] items-center justify-center rounded border-[1px] p-2 text-center",u.colors[p]),onClick:()=>{v(y.filter(r=>r.name!==e.name)),x(e,y.indexOf(e))},children:[(0,n.jsx)(l.$B,{color:a.I.white,width:45,height:45,className:"mx-auto mb-2"}),(0,n.jsx)("span",{className:"block overflow-hidden text-ellipsis ",children:e.name})]})},e.name+e.type))}),(0,n.jsx)("div",{className:(0,o.cn)("mt-2 flex cursor-pointer items-center justify-center rounded  border-[1px]  duration-200",u.padding[g],u.colors[p]),children:(0,n.jsx)("input",{multiple:d,type:"file",ref:w,className:"h-full w-full cursor-pointer",disabled:i,accept:h,onChange:e=>{e.target.files&&(N([...e.target.files]),f(e))},...b})})]})},h=t(72816);let p={colors:{foreground:"bg-foreground placeholder-white text-white border-[1px] border-bordered hover:border-bordered focus:border-bordered",muted:"bg-muted placeholder-white text-white border-[1px] border-bordered hover:border-bordered focus:border-gray",background:"bg-background border-[1px] border-bordered placeholder-white text-white hover:border-bordered focus:border-foreground"}};var f=e=>{let{icon:r,isError:t=!1,className:d="",variant:i="foreground",...s}=e;return(0,n.jsxs)("div",{className:"relative flex h-full w-full cursor-text items-center justify-center",children:[(0,n.jsx)("input",{className:(0,o.cn)("placeholder-gray focus:shadow-outline w-full rounded border-0 px-4 py-1.5 text-sm text-white duration-200 ease-linear focus:outline-0",r&&"pl-9",t&&"border-danger border-[1px]",p.colors[i],s.disabled&&"cursor-not-allowed",d),...s}),r?(0,n.jsx)(r,{width:20,height:20,color:a.I.gray,className:"absolute left-2.5"}):null]})},x=e=>{let{variant:r="foreground",className:t,style:o,icon:a,...d}=e;return(0,n.jsx)(h.Qr,{control:d.control,name:d.name,defaultValue:d.defaultValue,render:e=>{let{field:{value:i,onChange:s,onBlur:l},fieldState:{error:c}}=e;return(0,n.jsxs)("div",{className:t,style:o,children:[(0,n.jsx)(f,{variant:r,isError:!!c,value:i,icon:a,onBlur:l,onChange:"number"===d.type?e=>s(Number(+e.target.value)):s,...d}),!!c&&(0,n.jsx)("p",{className:"text-danger mt-0.5 text-xs italic",children:c.message})]})}})};let g={colors:{foreground:"bg-foreground placeholder-white text-white border-[1px] border-bordered hover:border-bordered focus:border-bordered",muted:"bg-muted placeholder-white text-white border-[1px] border-bordered hover:border-bordered focus:border-gray",background:"bg-background border-[1px] border-foreground placeholder-white text-white hover:border-foreground focus:border-foreground"}};var b=e=>{let{variant:r="foreground",className:t="",...a}=e;return(0,n.jsx)("textarea",{value:a.value,className:(0,o.cn)("placeholder-gray h-full w-full resize-none rounded p-2 text-white focus:outline-0",g.colors[r],a.disabled&&"cursor-not-allowed",t),...a})},y=e=>{let{variant:r="foreground",className:t,style:o,...a}=e;return(0,n.jsx)(h.Qr,{control:a.control,name:a.name,defaultValue:a.defaultValue,render:e=>{let{field:{value:d,onChange:i,onBlur:s},fieldState:{error:l}}=e;return(0,n.jsxs)("div",{className:t,style:o,children:[(0,n.jsx)(b,{variant:r,value:d,onBlur:s,onChange:i,...a}),!!l&&(0,n.jsx)("p",{className:"text-danger mt-0.5 text-xs italic",children:l.message})]})}})}},92766:function(e,r,t){var n=t(27573);r.Z=e=>{let{width:r=16,height:t=16,color:o="primary"}=e;return(0,n.jsxs)("svg",{className:"animate-spin",fill:"none",viewBox:"0 0 24 24",style:{color:o,width:r,height:t},children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}},55437:function(e,r,t){t.d(r,{J2:function(){return i},xo:function(){return s},yk:function(){return l}});var n=t(27573),o=t(72133),a=t(45553),d=t(7653);let i=a.fC,s=a.xz;a.ee;let l=(0,d.forwardRef)((e,r)=>{let{className:t,align:d="center",sideOffset:i=4,...s}=e;return(0,n.jsx)(a.h_,{children:(0,n.jsx)(a.VY,{ref:r,align:d,sideOffset:i,className:(0,o.cn)("bg-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 border-bordered z-50 w-72 rounded border  p-4 text-white shadow-md outline-none",t),...s})})});l.displayName=a.VY.displayName},73035:function(e,r,t){t.d(r,{d:function(){return o},s:function(){return n}});let n=e=>{if(!e)return 0;if(e<0||e>1e4)throw Error("Invalid parameter");return+e},o=e=>{if(!e)return"";if("string"!=typeof e)throw Error("Invalid parameter");return e}},12255:function(e,r,t){t.d(r,{SH:function(){return d}});var n=t(68444);let o=n.z.object({id:n.z.number().min(1),title:n.z.string().max(100).min(3).refine(e=>"undefined"!==e,{message:"Name cannot be empty"}).refine(e=>!e.includes(".epub"),{message:"Title cannot include .epub"})}),a=n.z.object({id:n.z.number().min(1),name:n.z.string().refine(e=>!e.includes(".epub"),{message:"Name cannot include .epub"}).refine(e=>"undefined"!==e,{message:"Name cannot be empty"}),text:n.z.string().refine(e=>/<([A-Za-z][A-Za-z0-9]*)\b[^>]*>(.*?)<\/\1>/.test(e),{message:"Text should be in HTML format"})}),d=n.z.object({chapters:n.z.array(a).min(1)}).merge(o)}}]);