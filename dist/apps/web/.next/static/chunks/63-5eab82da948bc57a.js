"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{48196:function(e,t,n){n.d(t,{Jp:function(){return s},YV:function(){return l},hP:function(){return i},wq:function(){return d},x3:function(){return u}});var o=n(28603),r=n(97502),a=n(9551);let i=()=>{let e=a.Z.get("accessToken");return console.log("getAccessToken",e),e||null},l=()=>{let e=a.Z.get("refreshToken");return console.log("getRefreshToken",e),e||null},s=e=>{a.Z.set("accessToken",e.accessToken),a.Z.set("refreshToken",e.refreshToken),console.log("saveTokensStorage",e)},d=()=>{console.log("deleteTokensStorage"),a.Z.remove("accessToken"),a.Z.remove("refreshToken")},u=async()=>{let e=l();if(!e)throw Error("No refresh token");console.log("refreshToken",e);let{data:t}=await o.Z.auth.refreshToken({refreshToken:e}).catch(e=>{throw"jwt expired"===(0,r.l)(e)&&d(),"jwt malformed"===(0,r.l)(e)&&d(),"jwt must be provided"===(0,r.l)(e)&&d(),e});if(t.accessToken&&s({accessToken:t.accessToken,refreshToken:t.refreshToken}),!t.accessToken)throw Error("No access token");return t}},28603:function(e,t,n){n.d(t,{Z:function(){return Y}});var o=n(53086);let r="http://localhost".replace(/\/+$/,"");class a{constructor(e,t=r,n=o.Z){if(this.basePath=t,this.axios=n,e){var a;this.configuration=e,this.basePath=null!==(a=e.basePath)&&void 0!==a?a:t}}}class i extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}let l={},s="https://example.com",d=function(e,t,n){if(null==n)throw new i(t,"Required parameter ".concat(t," was null or undefined when calling ").concat(e,"."))},u=async function(e,t){if(t&&t.accessToken){let n="function"==typeof t.accessToken?await t.accessToken():await t.accessToken;e.Authorization="Bearer "+n}},h=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];let r=new URLSearchParams(e.search);!function e(t,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";null!=n&&("object"==typeof n?Array.isArray(n)?n.forEach(n=>e(t,n,o)):Object.keys(n).forEach(r=>e(t,n[r],"".concat(o).concat(""!==o?".":"").concat(r))):t.has(o)?t.append(o,n):t.set(o,n))}(r,n),e.search=r.toString()},c=function(e,t,n){let o="string"!=typeof e;return(o&&n&&n.isJsonMime?n.isJsonMime(t.headers["Content-Type"]):o)?JSON.stringify(void 0!==e?e:{}):e||""},v=function(e){return e.pathname+e.search+e.hash},g=function(e,t,n,o){return function(){var r;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,l={...e.options,url:(a.defaults.baseURL?"":null!==(r=null==o?void 0:o.basePath)&&void 0!==r?r:i)+e.url};return a.request(l)}},p=function(e){let t={googleSign:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("googleSign","googleAuthDto",t);let r=new URL("/auth/google-sign",s);e&&(n=e.baseOptions);let a={method:"POST",...n,...o},i={};i["Content-Type"]="application/json",h(r,{});let l=n&&n.headers?n.headers:{};return a.headers={...i,...l,...o.headers},a.data=c(t,a,e),{url:v(r),options:a}},mailLogin:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("mailLogin","authDto",t);let r=new URL("/auth/mail-login",s);e&&(n=e.baseOptions);let a={method:"POST",...n,...o},i={};i["Content-Type"]="application/json",h(r,{});let l=n&&n.headers?n.headers:{};return a.headers={...i,...l,...o.headers},a.data=c(t,a,e),{url:v(r),options:a}},mailRegister:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("mailRegister","authDto",t);let r=new URL("/auth/mail-register",s);e&&(n=e.baseOptions);let a={method:"POST",...n,...o},i={};i["Content-Type"]="application/json",h(r,{});let l=n&&n.headers?n.headers:{};return a.headers={...i,...l,...o.headers},a.data=c(t,a,e),{url:v(r),options:a}},refreshToken:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("refreshToken","refreshDto",t);let r=new URL("/auth/refresh",s);e&&(n=e.baseOptions);let a={method:"POST",...n,...o},i={};i["Content-Type"]="application/json",h(r,{});let l=n&&n.headers?n.headers:{};return a.headers={...i,...l,...o.headers},a.data=c(t,a,e),{url:v(r),options:a}}};return{async googleSign(n,a){var i,s,d;let u=await t.googleSign(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["AuthApi.googleSign"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async mailLogin(n,a){var i,s,d;let u=await t.mailLogin(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["AuthApi.mailLogin"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async mailRegister(n,a){var i,s,d;let u=await t.mailRegister(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["AuthApi.mailRegister"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async refreshToken(n,a){var i,s,d;let u=await t.refreshToken(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["AuthApi.refreshToken"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)}}};class f extends a{googleSign(e,t){return p(this.configuration).googleSign(e,t).then(e=>e(this.axios,this.basePath))}mailLogin(e,t){return p(this.configuration).mailLogin(e,t).then(e=>e(this.axios,this.basePath))}mailRegister(e,t){return p(this.configuration).mailRegister(e,t).then(e=>e(this.axios,this.basePath))}refreshToken(e,t){return p(this.configuration).refreshToken(e,t).then(e=>e(this.axios,this.basePath))}}let m=function(e){let t={adminInfoBySlug:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("adminInfoBySlug","slug",t);let r="/book/admin-info/by-slug/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"GET",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}},catalog:async function(t,n){let o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d("catalog","searchTerm",t),d("catalog","page",n);let a=new URL("/book/admin/catalog",s);e&&(o=e.baseOptions);let i={method:"GET",...o,...r},l={},c={};await u(l,e),void 0!==t&&(c.searchTerm=t),void 0!==n&&(c.page=n),h(a,c);let g=o&&o.headers?o.headers:{};return i.headers={...l,...g,...r.headers},{url:v(a),options:i}},create:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("create","createBookDto",t);let r=new URL("/book/admin/create",s);e&&(n=e.baseOptions);let a={method:"POST",...n,...o},i={};await u(i,e),i["Content-Type"]="application/json",h(r,{});let l=n&&n.headers?n.headers:{};return a.headers={...i,...l,...o.headers},a.data=c(t,a,e),{url:v(r),options:a}},infoBySlug:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("infoBySlug","slug",t);let r="/book/info/by-slug/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"GET",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}},remove:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("remove","slug",t);let r="/book/admin/remove/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"DELETE",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}},update:async function(t,n){let o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d("update","slug",t),d("update","updateBookDto",n);let a="/book/admin/update/{slug}".replace("{slug}",encodeURIComponent(String(t))),i=new URL(a,s);e&&(o=e.baseOptions);let l={method:"PUT",...o,...r},g={};await u(g,e),g["Content-Type"]="application/json",h(i,{});let p=o&&o.headers?o.headers:{};return l.headers={...g,...p,...r.headers},l.data=c(n,l,e),{url:v(i),options:l}}};return{async adminInfoBySlug(n,a){var i,s,d;let u=await t.adminInfoBySlug(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["BookApi.adminInfoBySlug"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async catalog(n,a,i){var s,d,u;let h=await t.catalog(n,a,i),c=null!==(u=null==e?void 0:e.serverIndex)&&void 0!==u?u:0,v=null===(d=l["BookApi.catalog"])||void 0===d?void 0:null===(s=d[c])||void 0===s?void 0:s.url;return(t,n)=>g(h,o.Z,r,e)(t,v||n)},async create(n,a){var i,s,d;let u=await t.create(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["BookApi.create"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async infoBySlug(n,a){var i,s,d;let u=await t.infoBySlug(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["BookApi.infoBySlug"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async remove(n,a){var i,s,d;let u=await t.remove(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["BookApi.remove"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async update(n,a,i){var s,d,u;let h=await t.update(n,a,i),c=null!==(u=null==e?void 0:e.serverIndex)&&void 0!==u?u:0,v=null===(d=l["BookApi.update"])||void 0===d?void 0:null===(s=d[c])||void 0===s?void 0:s.url;return(t,n)=>g(h,o.Z,r,e)(t,v||n)}}};class y extends a{adminInfoBySlug(e,t){return m(this.configuration).adminInfoBySlug(e,t).then(e=>e(this.axios,this.basePath))}catalog(e,t,n){return m(this.configuration).catalog(e,t,n).then(e=>e(this.axios,this.basePath))}create(e,t){return m(this.configuration).create(e,t).then(e=>e(this.axios,this.basePath))}infoBySlug(e,t){return m(this.configuration).infoBySlug(e,t).then(e=>e(this.axios,this.basePath))}remove(e,t){return m(this.configuration).remove(e,t).then(e=>e(this.axios,this.basePath))}update(e,t,n){return m(this.configuration).update(e,t,n).then(e=>e(this.axios,this.basePath))}}let w=function(e){let t={featured:async function(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=new URL("/catalog/featured",s);e&&(t=e.baseOptions);let r={method:"GET",...t,...n},a={};await u(a,e),h(o,{});let i=t&&t.headers?t.headers:{};return r.headers={...a,...i,...n.headers},{url:v(o),options:r}},search:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("search","query",t);let r="/catalog/search/{query}".replace("{query}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"GET",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}}};return{async featured(n){var a,i,s;let d=await t.featured(n),u=null!==(s=null==e?void 0:e.serverIndex)&&void 0!==s?s:0,h=null===(i=l["CatalogApi.featured"])||void 0===i?void 0:null===(a=i[u])||void 0===a?void 0:a.url;return(t,n)=>g(d,o.Z,r,e)(t,h||n)},async search(n,a){var i,s,d;let u=await t.search(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["CatalogApi.search"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)}}};class b extends a{featured(e){return w(this.configuration).featured(e).then(e=>e(this.axios,this.basePath))}search(e,t){return w(this.configuration).search(e,t).then(e=>e(this.axios,this.basePath))}}let S=function(e){let t={ebookBySlug:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("ebookBySlug","slug",t);let r="/ebook/ebook/by-slug/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"GET",...n,...o};h(a,{});let l=n&&n.headers?n.headers:{};return i.headers={...l,...o.headers},{url:v(a),options:i}},storedEbookBySlug:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("storedEbookBySlug","slug",t);let r="/ebook/admin/stored-ebook/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"GET",...n,...o};h(a,{});let l=n&&n.headers?n.headers:{};return i.headers={...l,...o.headers},{url:v(a),options:i}}};return{async ebookBySlug(n,a){var i,s,d;let u=await t.ebookBySlug(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["EbookApi.ebookBySlug"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async storedEbookBySlug(n,a){var i,s,d;let u=await t.storedEbookBySlug(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["EbookApi.storedEbookBySlug"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)}}};class R extends a{ebookBySlug(e,t){return S(this.configuration).ebookBySlug(e,t).then(e=>e(this.axios,this.basePath))}storedEbookBySlug(e,t){return S(this.configuration).storedEbookBySlug(e,t).then(e=>e(this.axios,this.basePath))}}let x=function(e){let t={bySlug:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("bySlug","slug",t);let r="/genre/by-slug/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"GET",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}},catalog:async function(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=new URL("/genre",s);e&&(t=e.baseOptions);let r={method:"GET",...t,...n},a={};await u(a,e),h(o,{});let i=t&&t.headers?t.headers:{};return r.headers={...a,...i,...n.headers},{url:v(o),options:r}}};return{async bySlug(n,a){var i,s,d;let u=await t.bySlug(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["GenreApi.bySlug"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async catalog(n){var a,i,s;let d=await t.catalog(n),u=null!==(s=null==e?void 0:e.serverIndex)&&void 0!==s?s:0,h=null===(i=l["GenreApi.catalog"])||void 0===i?void 0:null===(a=i[u])||void 0===a?void 0:a.url;return(t,n)=>g(d,o.Z,r,e)(t,h||n)}}};class k extends a{bySlug(e,t){return x(this.configuration).bySlug(e,t).then(e=>e(this.axios,this.basePath))}catalog(e){return x(this.configuration).catalog(e).then(e=>e(this.axios,this.basePath))}}let T=function(e){let t={bySlug:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("bySlug","slug",t);let r="/parser/admin/by-slug/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"GET",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}},catalog:async function(t,n){let o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=new URL("/parser/admin/catalog",s);e&&(o=e.baseOptions);let i={method:"GET",...o,...r},l={},d={};await u(l,e),void 0!==t&&(d.searchTerm=t),void 0!==n&&(d.page=n),h(a,d);let c=o&&o.headers?o.headers:{};return i.headers={...l,...c,...r.headers},{url:v(a),options:i}},parse:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("parse","parserDto",t);let r=new URL("/parser/admin/parse",s);e&&(n=e.baseOptions);let a={method:"POST",...n,...o},i={};await u(i,e),i["Content-Type"]="application/json",h(r,{});let l=n&&n.headers?n.headers:{};return a.headers={...i,...l,...o.headers},a.data=c(t,a,e),{url:v(r),options:a}},remove:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("remove","slug",t);let r="/parser/admin/remove/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"DELETE",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}},unfold:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new URL("/parser/admin/unfold",s);e&&(n=e.baseOptions);let a={method:"POST",...n,...o},i={},l=new(e&&e.formDataCtor||FormData);await u(i,e),void 0!==t&&l.append("file",t),i["Content-Type"]="multipart/form-data",h(r,{});let d=n&&n.headers?n.headers:{};return a.headers={...i,...d,...o.headers},a.data=l,{url:v(r),options:a}}};return{async bySlug(n,a){var i,s,d;let u=await t.bySlug(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["ParserApi.bySlug"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async catalog(n,a,i){var s,d,u;let h=await t.catalog(n,a,i),c=null!==(u=null==e?void 0:e.serverIndex)&&void 0!==u?u:0,v=null===(d=l["ParserApi.catalog"])||void 0===d?void 0:null===(s=d[c])||void 0===s?void 0:s.url;return(t,n)=>g(h,o.Z,r,e)(t,v||n)},async parse(n,a){var i,s,d;let u=await t.parse(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["ParserApi.parse"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async remove(n,a){var i,s,d;let u=await t.remove(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["ParserApi.remove"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async unfold(n,a){var i,s,d;let u=await t.unfold(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["ParserApi.unfold"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)}}};class P extends a{bySlug(e,t){return T(this.configuration).bySlug(e,t).then(e=>e(this.axios,this.basePath))}catalog(e,t,n){return T(this.configuration).catalog(e,t,n).then(e=>e(this.axios,this.basePath))}parse(e,t){return T(this.configuration).parse(e,t).then(e=>e(this.axios,this.basePath))}remove(e,t){return T(this.configuration).remove(e,t).then(e=>e(this.axios,this.basePath))}unfold(e,t){return T(this.configuration).unfold(e,t).then(e=>e(this.axios,this.basePath))}}let I=function(e){let t={currentRecommendation:async function(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=new URL("/recommendation/recommendation-genre",s);e&&(t=e.baseOptions);let r={method:"GET",...t,...n},a={};await u(a,e),h(o,{});let i=t&&t.headers?t.headers:{};return r.headers={...a,...i,...n.headers},{url:v(o),options:r}},updateRecommendation:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("updateRecommendation","updateRecommendationDto",t);let r=new URL("/recommendation/update-recommendation",s);e&&(n=e.baseOptions);let a={method:"POST",...n,...o},i={};await u(i,e),i["Content-Type"]="application/json",h(r,{});let l=n&&n.headers?n.headers:{};return a.headers={...i,...l,...o.headers},a.data=c(t,a,e),{url:v(r),options:a}}};return{async currentRecommendation(n){var a,i,s;let d=await t.currentRecommendation(n),u=null!==(s=null==e?void 0:e.serverIndex)&&void 0!==s?s:0,h=null===(i=l["RecommendationApi.currentRecommendation"])||void 0===i?void 0:null===(a=i[u])||void 0===a?void 0:a.url;return(t,n)=>g(d,o.Z,r,e)(t,h||n)},async updateRecommendation(n,a){var i,s,d;let u=await t.updateRecommendation(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["RecommendationApi.updateRecommendation"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)}}};class U extends a{currentRecommendation(e){return I(this.configuration).currentRecommendation(e).then(e=>e(this.axios,this.basePath))}updateRecommendation(e,t){return I(this.configuration).updateRecommendation(e,t).then(e=>e(this.axios,this.basePath))}}let L=function(e){let t={review:async function(t,n){let o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d("review","slug",t),d("review","reviewBookDto",n);let a="/review/review/{slug}".replace("{slug}",encodeURIComponent(String(t))),i=new URL(a,s);e&&(o=e.baseOptions);let l={method:"POST",...o,...r},g={};await u(g,e),g["Content-Type"]="application/json",h(i,{});let p=o&&o.headers?o.headers:{};return l.headers={...g,...p,...r.headers},l.data=c(n,l,e),{url:v(i),options:l}}};return{async review(n,a,i){var s,d,u;let h=await t.review(n,a,i),c=null!==(u=null==e?void 0:e.serverIndex)&&void 0!==u?u:0,v=null===(d=l["ReviewApi.review"])||void 0===d?void 0:null===(s=d[c])||void 0===s?void 0:s.url;return(t,n)=>g(h,o.Z,r,e)(t,v||n)}}};class A extends a{review(e,t,n){return L(this.configuration).review(e,t,n).then(e=>e(this.axios,this.basePath))}}let E=function(e){let t={upload:async function(t,n){let o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d("upload","folder",t);let a="/storage/{folder}".replace("{folder}",encodeURIComponent(String(t))),i=new URL(a,s);e&&(o=e.baseOptions);let l={method:"POST",...o,...r},c={},g=new(e&&e.formDataCtor||FormData);await u(c,e),void 0!==n&&g.append("file",n),c["Content-Type"]="multipart/form-data",h(i,{});let p=o&&o.headers?o.headers:{};return l.headers={...c,...p,...r.headers},l.data=g,{url:v(i),options:l}}};return{async upload(n,a,i){var s,d,u;let h=await t.upload(n,a,i),c=null!==(u=null==e?void 0:e.serverIndex)&&void 0!==u?u:0,v=null===(d=l["StorageApi.upload"])||void 0===d?void 0:null===(s=d[c])||void 0===s?void 0:s.url;return(t,n)=>g(h,o.Z,r,e)(t,v||n)}}};class O extends a{upload(e,t,n){return E(this.configuration).upload(e,t,n).then(e=>e(this.axios,this.basePath))}}let B=function(e){let t={catalog:async function(t,n){let o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d("catalog","searchTerm",t),d("catalog","cursor",n);let a=new URL("/user/admin/catalog",s);e&&(o=e.baseOptions);let i={method:"GET",...o,...r},l={},c={};await u(l,e),void 0!==t&&(c.searchTerm=t),void 0!==n&&(c.cursor=n),h(a,c);let g=o&&o.headers?o.headers:{};return i.headers={...l,...g,...r.headers},{url:v(a),options:i}},finishReading:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("finishReading","slug",t);let r="/user/finish-reading/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"PATCH",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}},isSaved:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("isSaved","slug",t);let r="/user/is-saved/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"GET",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}},library:async function(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=new URL("/user/library",s);e&&(t=e.baseOptions);let r={method:"GET",...t,...n},a={};await u(a,e),h(o,{});let i=t&&t.headers?t.headers:{};return r.headers={...a,...i,...n.headers},{url:v(o),options:r}},remove:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("remove","id",t);let r="/user/admin/remove/{id}".replace("{id}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"DELETE",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}},startReading:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("startReading","slug",t);let r="/user/start-reading/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"PATCH",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}},toggleSave:async function(t){let n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d("toggleSave","slug",t);let r="/user/toggle-save/{slug}".replace("{slug}",encodeURIComponent(String(t))),a=new URL(r,s);e&&(n=e.baseOptions);let i={method:"PATCH",...n,...o},l={};await u(l,e),h(a,{});let c=n&&n.headers?n.headers:{};return i.headers={...l,...c,...o.headers},{url:v(a),options:i}}};return{async catalog(n,a,i){var s,d,u;let h=await t.catalog(n,a,i),c=null!==(u=null==e?void 0:e.serverIndex)&&void 0!==u?u:0,v=null===(d=l["UserApi.catalog"])||void 0===d?void 0:null===(s=d[c])||void 0===s?void 0:s.url;return(t,n)=>g(h,o.Z,r,e)(t,v||n)},async finishReading(n,a){var i,s,d;let u=await t.finishReading(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["UserApi.finishReading"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async isSaved(n,a){var i,s,d;let u=await t.isSaved(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["UserApi.isSaved"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async library(n){var a,i,s;let d=await t.library(n),u=null!==(s=null==e?void 0:e.serverIndex)&&void 0!==s?s:0,h=null===(i=l["UserApi.library"])||void 0===i?void 0:null===(a=i[u])||void 0===a?void 0:a.url;return(t,n)=>g(d,o.Z,r,e)(t,h||n)},async remove(n,a){var i,s,d;let u=await t.remove(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["UserApi.remove"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async startReading(n,a){var i,s,d;let u=await t.startReading(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["UserApi.startReading"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)},async toggleSave(n,a){var i,s,d;let u=await t.toggleSave(n,a),h=null!==(d=null==e?void 0:e.serverIndex)&&void 0!==d?d:0,c=null===(s=l["UserApi.toggleSave"])||void 0===s?void 0:null===(i=s[h])||void 0===i?void 0:i.url;return(t,n)=>g(u,o.Z,r,e)(t,c||n)}}};class Z extends a{catalog(e,t,n){return B(this.configuration).catalog(e,t,n).then(e=>e(this.axios,this.basePath))}finishReading(e,t){return B(this.configuration).finishReading(e,t).then(e=>e(this.axios,this.basePath))}isSaved(e,t){return B(this.configuration).isSaved(e,t).then(e=>e(this.axios,this.basePath))}library(e){return B(this.configuration).library(e).then(e=>e(this.axios,this.basePath))}remove(e,t){return B(this.configuration).remove(e,t).then(e=>e(this.axios,this.basePath))}startReading(e,t){return B(this.configuration).startReading(e,t).then(e=>e(this.axios,this.basePath))}toggleSave(e,t){return B(this.configuration).toggleSave(e,t).then(e=>e(this.axios,this.basePath))}}var C=n(90939),j=n(48196),G=n(96604),D=n(97502);let q=async e=>{let t=(0,j.hP)();return e.headers&&t&&(e.headers.Authorization="Bearer ".concat(t)),e},N=async e=>{var t,n;let r=e.config;if(console.log(r._isRetry),(null===(t=e.response)||void 0===t?void 0:t.status)===403&&(0,j.wq)(),((null===(n=e.response)||void 0===n?void 0:n.status)===401||"jwt expired"===(0,D.l)(e)||"jwt malformed"===(0,D.l)(e)||"jwt must be provided"===(0,D.l)(e))&&r&&!r._isRetry){r._isRetry=!0;try{return await (0,j.x3)(),await o.Z.request({...r,headers:{...r.headers,Authorization:"Bearer ".concat((0,j.hP)())}})}catch(e){if("jwt expired"===(0,D.l)(e)||"jwt must be provided"===(0,D.l)(e)||"jwt malformed"===(0,D.l)(e))return(0,j.wq)();return(0,G.Jc)(e),Promise.reject(e)}}return(0,G.Jc)(e),Promise.reject(e)},J=o.Z.create({headers:{"Content-Type":"application/json"}});J.interceptors.request.use(q),J.interceptors.response.use(void 0,N);let _={basePath:C.L,isJsonMime:()=>!0},F=new f(_,C.L,void 0),z=new y(_,C.L,J),H=new b(_,C.L,J),M=new R(_,C.L,J),V=new k(_,C.L,J),W=new P(_,C.L,J),Q=new U(_,C.L,J);var Y={auth:F,book:z,catalog:H,ebook:M,genre:V,parser:W,recommendation:Q,review:new A(_,C.L,J),storage:new O(_,C.L,J),user:new Z(_,C.L,J)}},96604:function(e,t,n){n.d(t,{Hz:function(){return s},Jc:function(){return a},Qm:function(){return i},Rr:function(){return l}});var o=n(97502),r=n(71095);let a=(e,t)=>{r.A.error("An error occurred, please try again later",{...t,description:(0,o.l)(e)})},i=(e,t)=>{r.A.success(e,t)},l=(e,t)=>{r.A.info(e,t)},s=(e,t)=>{(0,r.A)(e,{...t})}},90939:function(e,t,n){n.d(t,{L:function(){return o},q:function(){return r}});let o="https://booknex-server.up.railway.app/",r=e=>(null==e?void 0:e.startsWith("http"))?e:"https://f005.backblazeb2.com/file/Booknex/".concat(e)},1500:function(e,t,n){n.d(t,{eI:function(){return o},fe:function(){return r}});let o={invalidValue:"Invalid value provided",somethingWrong:"Something went wrong, please try again later",unknownError:"Unknown error, please try again later",noValidParameters:"No valid parameters"},r={notEnoughRights:"Not enough rights",invalidChapter:"Invalid chapter",invalidFile:"Invalid file",invalidFolder:"Invalid folder",bookNotFound:"Book not found",bookAlreadyExist:"Book already exist",userNotFound:"User not found",someConfigMissing:"Some config is missing"}},97502:function(e,t,n){n.d(t,{l:function(){return r}});var o=n(1500);let r=e=>{var t,n,r,a;return"string"==typeof e?e:"string"==typeof(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)?e.response.data.message:Array.isArray(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)?e.response.data.message.map(e=>e).join(", "):"string"==typeof e.message?e.message:o.eI.somethingWrong}}}]);