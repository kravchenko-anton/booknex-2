(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{60542:function(e,t,a){Promise.resolve().then(a.bind(a,7761))},7761:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var n=a(27573),r=a(70950),o=a(70729),s=a(72133),l=a(31783),i=a(51530),d=a(59752),c=a(77997),u=a(54603);let f=[{icon:d.kJ,link:"/admin/dashboard",name:"Dashboard"},{icon:d.n5,link:"/admin/user/catalog",name:"Users"},{icon:d.fy,link:"/admin/book/catalog",name:"Books"},{icon:d.Zr,link:"/admin/parser/catalog",name:"Parser"}];var m=()=>{let{logout:e}=(0,o.BH)(),t=(0,u.usePathname)(),a=(0,u.useRouter)();return(0,n.jsx)("div",{className:"z-0 h-full w-full justify-center duration-100 ease-linear xl:fixed xl:w-[190px] xl:flex-col",children:(0,n.jsxs)("div",{className:"bg-foreground border-bordered flex w-full justify-between border-b-2 p-5 text-sm xl:h-full xl:flex-col xl:border-r-2",children:[(0,n.jsx)("button",{className:"flex cursor-pointer items-center text-2xl font-bold xl:mb-12",type:"button",onClick:()=>a.push(l.M.dashboard),children:(0,n.jsxs)("span",{className:"bg-muted rounded  p-1 px-2 text-[21px] text-white  xl:w-full ",children:["Booknex"," \uD83E\uDDD1â€\uD83D\uDCBB"]})}),(0,n.jsx)("ul",{className:"hidden xl:block",children:f.map(e=>(0,n.jsx)("li",{className:"w-full",children:(0,n.jsxs)(c.default,{href:e.link,className:(0,s.cn)("my-2 flex items-center p-2 duration-100  ease-linear xl:gap-3"),children:[(0,n.jsx)(e.icon,{width:22,height:22,className:"hidden  xl:block",style:{color:t===e.link?"#fff":"#9ca3af"}}),(0,n.jsx)("span",{className:"block text-sm xl:text-[16px]",style:{color:t===e.link?"#fff":"#9ca3af"},children:e.name})]})},e.link))}),(0,n.jsxs)("div",{className:"text-danger hidden cursor-pointer  items-center duration-100 ease-linear xl:mt-auto xl:flex  xl:gap-3 xl:p-2",onClick:e,children:[(0,n.jsx)(d.RD,{width:22,height:22}),(0,n.jsx)("span",{className:"block text-sm xl:text-[16px]",children:"Logout"})]}),(0,n.jsx)("div",{className:"flex items-center justify-center  xl:hidden",children:(0,n.jsxs)(r.h_,{children:[(0,n.jsx)(r.$F,{className:"focus-visible:outline-0",children:(0,n.jsx)(d.yF,{height:40,width:40,color:i.I.white,className:"bg-muted  border-bordered rounded-md border-[1px] p-1.5"})}),(0,n.jsxs)(r.AW,{align:"end",children:[f.map(e=>(0,n.jsxs)(r.Xi,{onClick:()=>{a.push(e.link)},children:[(0,n.jsx)(e.icon,{width:22,height:22,className:"mr-2"}),e.name]},e.link)),(0,n.jsx)(r.VD,{}),(0,n.jsxs)(r.Xi,{onClick:e,children:[(0,n.jsx)(d.RD,{width:22,height:22,className:"mr-2"}),"Logout"]})]})]})})]})})},x=(0,a(69184).o)(e=>{let{children:t}=e;return(0,n.jsxs)("div",{className:"overflow-hidden xl:flex",children:[(0,n.jsx)(m,{}),(0,n.jsx)("div",{className:"xl:w-[ calc(100% - 190px ) ] mt-4 w-full overflow-auto p-2 pt-0 duration-200 ease-linear xl:ml-[190px] xl:p-4",children:t})]})})},70950:function(e,t,a){"use strict";a.d(t,{$F:function(){return d},AW:function(){return c},VD:function(){return f},Xi:function(){return u},h_:function(){return i}});var n=a(27573),r=a(72133),o=a(94336),s=a(59752),l=a(7653);let i=o.fC,d=o.xz;o.ZA,o.Uv,o.Tr,o.Ee,(0,l.forwardRef)((e,t)=>{let{className:a,inset:l,children:i,...d}=e;return(0,n.jsxs)(o.fF,{ref:t,className:(0,r.cn)("focus:bg-accent data-[state=open]:bg-foreground flex cursor-default select-none items-center rounded px-2 py-1.5 text-sm outline-none",l&&"pl-8",a),...d,children:[i,(0,n.jsx)(s._Q,{className:"ml-auto h-4 w-4"})]})}).displayName=o.fF.displayName,(0,l.forwardRef)((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(o.tu,{ref:t,className:(0,r.cn)("bg-foreground text-gray data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 border-foreground z-50 min-w-[8rem] overflow-hidden rounded border  p-1 shadow-lg",a),...s})}).displayName=o.tu.displayName;let c=(0,l.forwardRef)((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,n.jsx)(o.Uv,{children:(0,n.jsx)(o.VY,{ref:t,sideOffset:s,className:(0,r.cn)("bg-foreground  border-bordered z-50 min-w-[8rem] overflow-hidden rounded border p-1 text-white shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});c.displayName=o.VY.displayName;let u=(0,l.forwardRef)((e,t)=>{let{className:a,inset:s,...l}=e;return(0,n.jsx)(o.ck,{ref:t,className:(0,r.cn)("focus:bg-muted  relative flex cursor-default select-none items-center rounded px-2 py-1.5 text-sm outline-none transition-colors focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",a),...l})});u.displayName=o.ck.displayName,(0,l.forwardRef)((e,t)=>{let{className:a,children:l,checked:i,...d}=e;return(0,n.jsxs)(o.oC,{ref:t,checked:i,className:(0,r.cn)("focus:bg-foreground relative flex cursor-default select-none items-center rounded py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...d,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(o.wU,{children:(0,n.jsx)(s.Jr,{className:"h-4 w-4"})})}),l]})}).displayName=o.oC.displayName,(0,l.forwardRef)((e,t)=>{let{className:a,children:l,...i}=e;return(0,n.jsxs)(o.Rk,{ref:t,className:(0,r.cn)("focus:bg-foreground focus:text-gray relative flex cursor-default select-none items-center rounded py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(o.wU,{children:(0,n.jsx)(s.oT,{className:"h-4 w-4 fill-current"})})}),l]})}).displayName=o.Rk.displayName,(0,l.forwardRef)((e,t)=>{let{className:a,inset:s,...l}=e;return(0,n.jsx)(o.__,{ref:t,className:(0,r.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...l})}).displayName=o.__.displayName;let f=(0,l.forwardRef)((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(o.Z0,{ref:t,className:(0,r.cn)("bg-muted  -mx-1 my-1 h-px",a),...s})});f.displayName=o.Z0.displayName},70729:function(e,t,a){"use strict";a.d(t,{BH:function(){return s},aC:function(){return i}});let n={...a(30387)};var r=a(47391),o=a(61929);let s=()=>{let e=(0,o.I0)();return(0,r.DE)(n,e)},l=o.v9,i=()=>l(e=>e.auth);a(7653)},69184:function(e,t,a){"use strict";a.d(t,{V:function(){return d},o:function(){return c}});var n=a(27573),r=a(70729),o=a(48196),s=a(31783),l=a(54603),i=a(7653);let d=e=>function(t){let{user:a,isLoading:o}=(0,r.aC)();return(0,i.useLayoutEffect)(()=>{a&&(0,l.redirect)(s.M.dashboard)},[a,o]),(0,n.jsx)(e,{...t})},c=e=>function(t){let{user:a,isLoading:d}=(0,r.aC)(),{logout:c}=(0,r.BH)();return(0,i.useLayoutEffect)(()=>{(async()=>{!(0,o.YV)()&&a&&c()})(),a||d||(0,l.redirect)(s.j.login)},[a,d]),(0,n.jsx)(e,{...t})}},30387:function(e,t,a){"use strict";a.r(t),a.d(t,{googleLogin:function(){return d},logout:function(){return c},mailLogin:function(){return i}});var n=a(28603),r=a(96604),o=a(34293),s=a(1500),l=a(48196);let i=(0,o.hg)("auth/mailLogin",async(e,t)=>{let{email:a,password:o}=e;try{let{data:e}=await n.Z.auth.mailLogin({email:a,password:o});if(console.log(e),"admin"!==e.user.role)return t.rejectWithValue("You are not admin");return(0,l.Jp)({accessToken:e.accessToken,refreshToken:e.refreshToken}),(0,r.Qm)("Login successfully"),e}catch(e){return(0,r.Jc)(e),t.rejectWithValue(e)}}),d=(0,o.hg)("auth/googleLogin",async(e,t)=>{let{socialId:a}=e;try{let{data:e}=await n.Z.auth.googleSign({socialId:a});if(console.log(e),"admin"!==e.user.role)return t.rejectWithValue(s.eI.somethingWrong);return(0,l.Jp)({accessToken:e.accessToken,refreshToken:e.refreshToken}),(0,r.Qm)("Login successfully"),e}catch(e){return(0,r.Jc)(e),t.rejectWithValue(e)}}),c=(0,o.hg)("auth/logout",()=>{try{(0,l.wq)()}catch(e){(0,r.Jc)(e)}return{}})},31783:function(e,t,a){"use strict";a.d(t,{M:function(){return n},j:function(){return r}});let n={bookCatalogRoute:"/admin/book/catalog",bookCreateRoute:"/admin/book/create",bookCreateWithTemplateRoute:e=>"/admin/book/create?template="+e,bookUpdateRoute:e=>"/admin/book/"+e+"/update",bookOverviewRoute:e=>"/admin/book/"+e,parserCatalogRoute:"/admin/parser/catalog",userCatalogRoute:"/admin/user/catalog",dashboard:"/admin/dashboard"},r={login:"/login"}}},function(e){e.O(0,[201,485,878,823,997,192,336,63,675,747,362,677,744],function(){return e(e.s=60542)}),_N_E=e.O()}]);