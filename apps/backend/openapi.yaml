openapi: 3.0.0
paths:
  /api/user/profile:
    get:
      operationId: profile
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserProfileOutput"
      tags:
        - 👤 user
      security:
        - bearer: []
  /api/user/library:
    get:
      operationId: library
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserLibraryOutput"
      tags:
        - 👤 user
      security:
        - bearer: []
  "/api/user/start-reading/{id}":
    patch:
      operationId: startReading
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
      tags:
        - 👤 user
      security:
        - bearer: []
  "/api/user/finish-reading/{id}":
    patch:
      operationId: finishReading
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
      tags:
        - 👤 user
      security:
        - bearer: []
  "/api/user/toggle-save/{id}":
    patch:
      operationId: toggleSave
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: boolean
      tags:
        - 👤 user
      security:
        - bearer: []
  "/api/user/is-saved/{id}":
    get:
      operationId: isSaved
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: boolean
      tags:
        - 👤 user
      security:
        - bearer: []
  /api/user/admin/catalog:
    get:
      operationId: adminCatalog
      parameters:
        - name: searchTerm
          required: true
          in: query
          schema:
            type: string
        - name: page
          required: true
          in: query
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserAdminCatalogOutput"
      tags:
        - 👤 user
      security:
        - bearer: []
  "/api/user/admin/remove/{id}":
    delete:
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
      tags:
        - 👤 user
      security:
        - bearer: []
  "/api/catalog/search/{query}":
    get:
      operationId: search
      parameters:
        - name: query
          required: true
          in: path
          schema:
            type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ShortBook"
      tags:
        - 📚 catalog
      security:
        - bearer: []
  /api/catalog/featured:
    get:
      operationId: featured
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FeaturedOutput"
      tags:
        - 📚 catalog
      security:
        - bearer: []
  /api/genre:
    get:
      operationId: all
      parameters: []
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/shortGenre"
      tags:
        - 🔖 genre
      security:
        - bearer: []
  "/api/genre/by-id/{id}":
    get:
      operationId: byId
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GenreByIdOutput"
      tags:
        - 🔖 genre
      security:
        - bearer: []
  "/api/book/by-id/{id}":
    get:
      operationId: infoById
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InfoByIdOutput"
      tags:
        - 📙 book
      security:
        - bearer: []
  "/api/book/ebook/{id}":
    get:
      operationId: ebookById
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EbookByIdOutput"
      tags:
        - 📙 book
      security:
        - bearer: []
  "/api/book/admin/by-id/{id}":
    get:
      operationId: infoByIdAdmin
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdminInfoByIdOutput"
      tags:
        - 📙 book
      security:
        - bearer: []
  /api/book/admin/catalog:
    get:
      operationId: adminCatalog
      parameters:
        - name: searchTerm
          required: true
          in: query
          schema:
            type: string
        - name: page
          required: true
          in: query
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdminCatalogOutput"
      tags:
        - 📙 book
      security:
        - bearer: []
  /api/book/admin/create:
    post:
      operationId: create
      parameters: []
      requestBody:
        required: true
        description: Create book
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateBookDto"
      responses:
        "200":
          description: ""
      tags:
        - 📙 book
      security:
        - bearer: []
  "/api/book/admin/update/{id}":
    put:
      operationId: update
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateBookDto"
      responses:
        "200":
          description: ""
      tags:
        - 📙 book
      security:
        - bearer: []
  "/api/book/admin/update-genre/{id}":
    put:
      operationId: updateGenre
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateGenreDto"
      responses:
        "200":
          description: ""
      tags:
        - 📙 book
      security:
        - bearer: []
  "/api/book/admin/update-ebook/{id}":
    post:
      operationId: updateEbook
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/PayloadEBook"
      responses:
        "200":
          description: ""
      tags:
        - 📙 book
      security:
        - bearer: []
  "/api/book/admin/remove/{id}":
    delete:
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
      tags:
        - 📙 book
      security:
        - bearer: []
  /api/auth/google-sign:
    post:
      operationId: googleSign
      parameters: []
      requestBody:
        required: true
        description: Sign in with google account
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GoogleAuthDto"
      responses:
        "200":
          description: Return access and refresh token
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthOutput"
      tags:
        - 🔐 auth
  /api/auth/mail-register:
    post:
      operationId: register
      parameters: []
      requestBody:
        required: true
        description: Register new user
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AuthDto"
      responses:
        "200":
          description: Return access and refresh token
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthOutput"
      tags:
        - 🔐 auth
  /api/auth/mail-login:
    post:
      operationId: login
      parameters: []
      requestBody:
        required: true
        description: Login user
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AuthDto"
      responses:
        "200":
          description: Return access and refresh token
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthOutput"
      tags:
        - 🔐 auth
  /api/auth/refresh:
    post:
      operationId: refreshToken
      parameters: []
      requestBody:
        required: true
        description: Refresh access token
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefreshDto"
      responses:
        "200":
          description: Return access token
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthOutput"
      tags:
        - 🔐 auth
  "/api/storage/{folder}":
    post:
      operationId: upload
      parameters:
        - name: folder
          required: true
          in: path
          schema:
            enum:
              - ebooks
              - booksCovers
            type: string
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        "200":
          description: File uploaded
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UploadOutputDto"
      tags:
        - storage
      security:
        - bearer: []
  /api/parser/admin/catalog:
    get:
      operationId: adminCatalog
      parameters:
        - name: searchTerm
          required: false
          in: query
          example: The Hobbit
          schema:
            type: string
        - name: page
          required: false
          in: query
          example: 1
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BookTemplateCatalogOutput"
      tags:
        - 📦 parser
      security:
        - bearer: []
  "/api/parser/admin/by-id/{id}":
    get:
      operationId: byId
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BookTemplate"
      tags:
        - 📦 parser
      security:
        - bearer: []
  /api/parser/admin/parse:
    post:
      operationId: parse
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ParserDto"
      responses:
        "201":
          description: ""
      tags:
        - 📦 parser
      security:
        - bearer: []
  /api/parser/admin/unfold:
    post:
      operationId: unfold
      parameters: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        "200":
          description: Unfolded book content
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UnfoldOutput"
      tags:
        - 📦 parser
      security:
        - bearer: []
  "/api/parser/admin/remove/{id}":
    delete:
      operationId: remove
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      responses:
        "200":
          description: ""
      tags:
        - 📦 parser
      security:
        - bearer: []
  "/api/review/review/{id}":
    post:
      operationId: book-review
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: number
      requestBody:
        required: true
        description: Review book
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReviewBookDto"
      responses:
        "200":
          description: Review book
      tags:
        - ⭐ book-review
      security:
        - bearer: []
  /api/recommendation/update-recommendations:
    post:
      operationId: updateRecommendations
      parameters: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserUpdateSelectedGenresDto"
      responses:
        "200":
          description: Recommendations updated
      tags:
        - 📨 recommendation
      security:
        - bearer: []
  /api/recommendation/recommendation-genres:
    get:
      operationId: recommendationsGenres
      parameters: []
      responses:
        "200":
          description: Recommendation genres
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/shortGenre"
      tags:
        - 📨 recommendation
      security:
        - bearer: []
info:
  title: Booknex
  description: ""
  version: "1.0"
  contact:
    name: Booknex
    url: https://github.com/kravchenko-anton/booknex-2-monorepo
    email: Github repository
tags:
  - name: 👤 user
    description: user service
  - name: 🔐 auth
    description: auth service
  - name: 📙 book
    description: book service
  - name: 📚 catalog
    description: catalog service
  - name: 🔖 genre
    description: genre service
  - name: 📁 storage
    description: storage service
  - name: ⭐ book-review
    description: book-review service
  - name: 📨 recommendation
    description: recommendation service
  - name: 📦 parser
    description: parser service
servers: []
components:
  securitySchemes:
    bearer:
      scheme: bearer
      bearerFormat: JWT
      type: http
  schemas:
    UserProfileOutput:
      type: object
      properties:
        id:
          type: number
          example: 1
        email:
          type: string
          example: email
      required:
        - id
        - email
    ShortBook:
      type: object
      properties:
        id:
          type: number
          example: 1
          description: book id
        title:
          type: string
          example: title
          description: book title
        picture:
          type: string
          example: picture
          description: book picture
        author:
          type: string
          example: author
          description: book author
      required:
        - id
        - title
        - picture
        - author
    UserLibraryOutput:
      type: object
      properties:
        readingBooks:
          type: array
          items:
            $ref: "#/components/schemas/ShortBook"
        finishedBooks:
          type: array
          items:
            $ref: "#/components/schemas/ShortBook"
        savedBooks:
          type: array
          items:
            $ref: "#/components/schemas/ShortBook"
      required:
        - readingBooks
        - finishedBooks
        - savedBooks
    shortGenre:
      type: object
      properties:
        id:
          type: number
          example: 1
          description: genre id
        name:
          type: string
          example: name
          description: genre name
      required:
        - id
        - name
    ActivityItem:
      type: object
      properties:
        message:
          type: string
          description: Activity message
          example: startedReading
        time:
          type: string
          description: Active time
          example: 2021-07-01T10:00:00
        importance:
          type: number
          description: Activity importance
          example: 1
      required:
        - message
        - time
        - importance
    Activity:
      type: object
      properties:
        date:
          type: string
          description: Active date
          example: 2021-07-01
        count:
          type: number
          description: Active count
          example: 10
        level:
          type: number
          description: Active level
          example: 10
        activities:
          description: List of activities
          type: array
          items:
            $ref: "#/components/schemas/ActivityItem"
      required:
        - date
        - count
        - level
        - activities
    UserCountOutput:
      type: object
      properties:
        savedBooks:
          type: number
          example: 1
        finishedBooks:
          type: number
          example: 1
        readingBooks:
          type: number
          example: 1
      required:
        - savedBooks
        - finishedBooks
        - readingBooks
    CatalogUserOutput:
      type: object
      properties:
        id:
          type: number
          example: 1
          description: user id
        createdAt:
          format: date-time
          type: string
          example: 2021-07-01
          description: user created at
        email:
          type: string
          example: email
          description: user email
        socialId:
          type: string
          example: socialId
          description: user social id
        password:
          type: string
          example: password
          description: user password
        picture:
          type: string
          example: picture
          description: user picture
        fullName:
          type: string
          example: fullName
          description: user full name
        location:
          type: string
          example: location
          description: user location
        selectedGenres:
          type: array
          items:
            $ref: "#/components/schemas/shortGenre"
        activities:
          type: array
          items:
            $ref: "#/components/schemas/Activity"
        _count:
          description: Count of books finished, reading and saved by the user
          allOf:
            - $ref: "#/components/schemas/UserCountOutput"
      required:
        - id
        - createdAt
        - email
        - socialId
        - password
        - picture
        - fullName
        - location
        - selectedGenres
        - activities
        - _count
    UserAdminCatalogOutput:
      type: object
      properties:
        canLoadMore:
          type: boolean
          example: true
          description: can load more
        totalPages:
          type: number
          example: 1
          description: total pages
        data:
          type: array
          items:
            $ref: "#/components/schemas/CatalogUserOutput"
      required:
        - canLoadMore
        - totalPages
        - data
    FeaturedOutput:
      type: object
      properties:
        relatedGenres:
          type: array
          items:
            $ref: "#/components/schemas/shortGenre"
        recommendations:
          type: array
          items:
            $ref: "#/components/schemas/ShortBook"
        popularBooks:
          type: array
          items:
            $ref: "#/components/schemas/ShortBook"
        bestSellingBooks:
          type: array
          items:
            $ref: "#/components/schemas/ShortBook"
        newReleases:
          type: array
          items:
            $ref: "#/components/schemas/ShortBook"
      required:
        - relatedGenres
        - recommendations
        - popularBooks
        - bestSellingBooks
        - newReleases
    GenreByIdOutput:
      type: object
      properties:
        id:
          type: number
          example: 1
          description: genre id
        name:
          type: string
          example: name
          description: genre name
        mainBooks:
          type: array
          items:
            $ref: "#/components/schemas/ShortBook"
      required:
        - id
        - name
        - mainBooks
    InfoByIdOutput:
      type: object
      properties:
        id:
          type: number
          example: 1
          description: book id
        title:
          type: string
          example: title
          description: book title
        picture:
          type: string
          example: picture
          description: book picture
        author:
          type: string
          example: author
          description: book author
        description:
          type: string
          example: description
          description: book description
        readingTime:
          type: number
          example: 100
          description: book readingTime
        chapters:
          type: number
          example: 100
          description: book chapters count
        rating:
          type: number
          example: 5
          description: book rating
        genres:
          type: array
          items:
            $ref: "#/components/schemas/shortGenre"
      required:
        - id
        - title
        - picture
        - author
        - description
        - readingTime
        - chapters
        - rating
        - genres
    OutputChapterChild:
      type: object
      properties:
        name:
          type: string
          example: name
          description: chapter child name
        link:
          type: string
          example: link
          description: chapter child link
      required:
        - name
        - link
    OutputChapter:
      type: object
      properties:
        title:
          type: string
          example: title
          description: chapter title
        children:
          description: chapter children
          type: array
          items:
            $ref: "#/components/schemas/OutputChapterChild"
      required:
        - title
        - children
    EbookByIdOutput:
      type: object
      properties:
        title:
          type: string
          example: title
          description: book title
        picture:
          type: string
          example: picture
          description: book picture
        file:
          description: book file
          type: array
          items:
            type: string
        chapters:
          description: book chapters
          type: array
          items:
            $ref: "#/components/schemas/OutputChapter"
      required:
        - title
        - picture
        - file
        - chapters
    CountOutput:
      type: object
      properties:
        finishedBy:
          type: number
          example: 1
          description: FinishedBy
        readingBy:
          type: number
          example: 1
          description: ReadingBy
        savedBy:
          type: number
          example: 1
          description: SavedBy
      required:
        - finishedBy
        - readingBy
        - savedBy
    Review:
      type: object
      properties:
        id:
          type: number
          example: 1
          description: book-review id
        tags:
          example: tags
          description: book-review tags
          type: array
          items:
            type: string
        text:
          type: string
          example: text
          description: book-review text
        rating:
          type: number
          example: 1
          description: book-review rating
      required:
        - id
        - tags
        - text
        - rating
    AdminInfoByIdOutput:
      type: object
      properties:
        id:
          type: number
          example: 1
          description: book id
        title:
          type: string
          example: title
          description: book title
        picture:
          type: string
          example: picture
          description: book picture
        author:
          type: string
          example: author
          description: book author
        description:
          type: string
          example: description
          description: book description
        readingTime:
          type: number
          example: 100
          description: book readingTime
        chapters:
          type: number
          example: 100
          description: book chapters count
        rating:
          type: number
          example: 5
          description: book rating
        visible:
          type: boolean
          example: true
          description: book visibility
        genres:
          type: array
          items:
            $ref: "#/components/schemas/shortGenre"
        createdAt:
          type: string
          example: 2021-07-01
          description: book created at
        updatedAt:
          type: string
          example: 2021-07-01
          description: book updated at
        ebook:
          type: string
          example: ebook
          description: book ebook
        activities:
          description: book activities
          type: array
          items:
            $ref: "#/components/schemas/Activity"
        _count:
          description: book count
          allOf:
            - $ref: "#/components/schemas/CountOutput"
        review:
          description: book book-review
          type: array
          items:
            $ref: "#/components/schemas/Review"
      required:
        - id
        - title
        - picture
        - author
        - description
        - readingTime
        - chapters
        - rating
        - visible
        - genres
        - createdAt
        - updatedAt
        - ebook
        - activities
        - _count
        - review
    Book:
      type: object
      properties:
        id:
          type: number
          example: 1
          description: book id
        title:
          type: string
          example: title
          description: book title
        picture:
          type: string
          example: picture
          description: book picture
        author:
          type: string
          example: author
          description: book author
        description:
          type: string
          example: description
          description: book description
        readingTime:
          type: number
          example: 100
          description: book readingTime
        chapters:
          type: number
          example: 100
          description: book chapters count
        rating:
          type: number
          example: 5
          description: book rating
        visible:
          type: boolean
          example: true
          description: book visibility
        genres:
          type: array
          items:
            $ref: "#/components/schemas/shortGenre"
      required:
        - id
        - title
        - picture
        - author
        - description
        - readingTime
        - chapters
        - rating
        - visible
        - genres
    AdminCatalogOutput:
      type: object
      properties:
        canLoadMore:
          type: boolean
          example: true
          description: can load more
        totalPages:
          type: number
          example: 1
          description: total pages
        data:
          type: array
          items:
            $ref: "#/components/schemas/Book"
      required:
        - canLoadMore
        - totalPages
        - data
    PayloadChapter:
      type: object
      properties:
        id:
          type: number
        name:
          type: string
        text:
          type: string
      required:
        - id
        - name
        - text
    PayloadEBook:
      type: object
      properties:
        id:
          type: number
        title:
          type: string
        chapters:
          type: array
          items:
            $ref: "#/components/schemas/PayloadChapter"
      required:
        - id
        - title
        - chapters
    CreateBookDto:
      type: object
      properties:
        title:
          type: string
          example: title
          description: book title
        picture:
          type: string
          example: picture
          description: book picture
        author:
          type: string
          example: author
          description: book author
        description:
          type: string
          example: description
          description: book description
        chapters:
          type: number
          example: 100
          description: book chapters count
        rating:
          type: number
          example: 5
          description: book rating
        ebook:
          type: array
          items:
            $ref: "#/components/schemas/PayloadEBook"
        genres:
          description: Array of genres
          example:
            - 1
            - 2
            - 3
          type: array
          items:
            type: number
      required:
        - title
        - picture
        - author
        - description
        - chapters
        - rating
        - ebook
        - genres
    UpdateBookDto:
      type: object
      properties:
        title:
          type: string
          example: title
          description: book title
        picture:
          type: string
          example: picture
          description: book picture
        author:
          type: string
          example: author
          description: book author
        description:
          type: string
          example: description
          description: book description
        chapters:
          type: number
          example: 100
          description: book chapters count
        rating:
          type: number
          example: 5
          description: book rating
        visible:
          type: boolean
          example: true
          description: book visibility
    UpdateGenreDto:
      type: object
      properties:
        genres:
          description: Array of genres
          example:
            - 1
            - 2
            - 3
          type: array
          items:
            type: number
    GoogleAuthDto:
      type: object
      properties:
        socialId:
          type: string
          description: Social id
          example: "1234567890"
      required:
        - socialId
    AuthUser:
      type: object
      properties:
        id:
          type: number
          description: User id
          example: 1
        email:
          type: string
          description: User email
          example: test@gmail.com
        role:
          type: string
          description: User role
          example: user
          enum:
            - user
            - admin
      required:
        - id
        - email
        - role
    AuthOutput:
      type: object
      properties:
        accessToken:
          type: string
          description: Access token
          example: "1234567890"
        refreshToken:
          type: string
          description: Refresh token
          example: "1234567890"
        type:
          type: string
          description: type of auth
          example: login
        user:
          description: User data
          allOf:
            - $ref: "#/components/schemas/AuthUser"
      required:
        - accessToken
        - refreshToken
        - type
        - user
    AuthDto:
      type: object
      properties:
        email:
          type: string
          description: User email
          example: test@gmail.com
        password:
          type: string
          description: User password
          example: password
      required:
        - email
        - password
    RefreshDto:
      type: object
      properties:
        refreshToken:
          type: string
          description: Refresh token
          example: "1234567890"
      required:
        - refreshToken
    UploadOutputDto:
      type: object
      properties:
        name:
          type: string
      required:
        - name
    BookTemplate:
      type: object
      properties:
        id:
          type: number
          description: id of the book
        title:
          type: string
          description: title of the book
        author:
          type: string
          description: author of the book
        description:
          type: string
          description: description of the book
        picture:
          type: string
          description: picture of the book
        rating:
          type: number
          description: rating of the book
        genres:
          type: array
          items:
            $ref: "#/components/schemas/shortGenre"
      required:
        - id
        - title
        - author
        - description
        - picture
        - rating
        - genres
    BookTemplateCatalogOutput:
      type: object
      properties:
        canLoadMore:
          type: boolean
          example: true
          description: can load more
        totalPages:
          type: number
          example: 1
          description: total pages
        data:
          description: book template
          type: array
          items:
            $ref: "#/components/schemas/BookTemplate"
      required:
        - canLoadMore
        - totalPages
        - data
    ParserDto:
      type: object
      properties:
        url:
          type: string
          description: url of the parser
        page:
          type: number
          description: page of the parser
      required:
        - url
        - page
    UnfoldOutput:
      type: object
      properties:
        id:
          type: number
          description: id of the chapter
        name:
          type: string
          description: name of the chapter
        text:
          type: string
          description: text of the chapter
      required:
        - id
        - name
        - text
    ReviewBookDto:
      type: object
      properties:
        rating:
          type: number
          example: 5
          description: rating
        tags:
          description: tags
          type: array
          items:
            type: string
        comment:
          type: string
          example: comment
          description: comment
      required:
        - rating
        - tags
    UserUpdateSelectedGenresDto:
      type: object
      properties:
        selectedGenres:
          description: selected genres
          type: array
          items:
            type: number
      required:
        - selectedGenres
